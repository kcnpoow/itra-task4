import{g as u,a as x,y as g,j as s,S as p,L as h}from"./index-CqsFpB6Z.js";import{u as j,F as b,b as S,M as f,d as y,A,e as F,a as w,f as L,L as E}from"./index-B6_XwKsv.js";import{u as P}from"./useMutation-hz0S0UZ7.js";import{B as k}from"./button-Clzs7NyT.js";import"./input-E3NZkcd6.js";const v=()=>{const l=u(),{formState:{errors:o},register:n,setError:t,handleSubmit:d}=j(),a=P({mutationFn:x.login,onSuccess:e=>{l.login(e)},onError:e=>{if(g.isAxiosError(e)){const r=e.response?.data,c=r?.status,i=r?.message;if(!i){t("root",{message:"Unexpected error"});return}switch(c){case 401:case 404:t("root",{message:"Invalid email or password"});break;case 403:t("root",{message:"Email is blocked"});break;default:t("root",{message:i});break}}}}),m=async e=>{a.mutate(e)};return s.jsx("form",{onSubmit:d(m),children:s.jsxs(b,{children:[s.jsx(S,{id:"email",label:"E-mail",autoComplete:"none",addon:s.jsx(f,{}),disabled:a.isPending,...n("email",{required:!0})}),s.jsx(y,{id:"password",label:"Password",disabled:a.isPending,...n("password",{required:!0})}),o.root?.message&&s.jsx(A,{variant:"destructive",children:s.jsx(F,{className:"justify-center",children:o.root.message})}),s.jsx(w,{children:s.jsx(k,{size:"lg",disabled:a.isPending,children:a.isPending?s.jsx(p,{}):"Sign In"})})]})})},I=()=>s.jsxs(L,{children:[s.jsx(E,{classname:"text-4xl"}),s.jsxs("div",{className:"max-w-xs mx-auto my-8 lg:my-24",children:[s.jsx("span",{className:"font-light",children:"Start your journey"}),s.jsx("h1",{className:"mb-10 text-2xl font-bold",children:"Sign In to The App"}),s.jsx(v,{})]}),s.jsxs("p",{className:"text-center",children:["Don't have an account? ",s.jsx(h,{to:"/signup",children:"Sign up"})]})]}),D=I;export{D as component};
